# 阳宝复制专用

- BlockPerson

```
<template>
  <div class="block">
    <bar></bar>
    <v-main>
      <v-container fluid>
        <v-container class="pa-4 text-center">
          <v-row class="fill-height flex-row box" align="center" justify="space-around">
            <template>
                <div>
                    <v-hover v-slot:default="{ hover }">
                    <template>
                    <v-card
                        class="mx-auto"
                        width="500"
                        max-height="30000"
                        :elevation="hover ? 12 : 2"
                        :class="{ 'on-hover': hover }"
                    >
                    <v-toolbar
                    flat
                    color="transparent"
                    >
                    <v-app-bar-nav-icon></v-app-bar-nav-icon>
                    <v-toolbar-title>Follow List</v-toolbar-title>
                    <v-spacer></v-spacer>
                    <v-btn
                    icon
                    @click="$refs.search.focus()"
                    >
                    <v-icon>mdi-magnify</v-icon>
                </v-btn>
                    </v-toolbar>

                    <v-container class="py-0">
                    <v-row
                        align="center"
                        justify="start"
                    >
                        <v-col
                        v-for="(selection, i) in selections"
                        :key="selection.username"
                        class="shrink"
                        >
                        <v-chip
                            :disabled="loading"
                            close
                            @click:close="selected.splice(i, 1)"
                        >
                            <v-avatar left :src="'/home/moyun/file/'+selection.headImage">                                
                            </v-avatar>
                            {{ selection.username }}
                        </v-chip>
                        </v-col>

                        <v-col v-if="!allSelected" cols="12">
                        <v-text-field
                            ref="search"
                            v-model="search"
                            full-width
                            hide-details
                            label="Search"
                            single-line
                        ></v-text-field>
                        </v-col>
                    </v-row>
                    </v-container>

                    <v-divider v-if="!allSelected"></v-divider>

                    <v-list>
                    <template v-for="item in categories">
                        <v-list-item
                        v-if="!selected.includes(item)"
                        :key="item.username"
                        :disabled="loading"
                        @click="selected.push(item)"
                        >
                        <v-list-item-avatar>
                            <v-img
                            :disabled="loading"
                            :src="'/home/moyun/file/'+item.headImage"
                            ></v-img>
                        </v-list-item-avatar>
                        <v-list-item-title v-text="item.username"></v-list-item-title>
                        </v-list-item>
                    </template>
                    </v-list>

                    <v-divider></v-divider>

                    <v-card-actions>
                    <v-spacer></v-spacer>
                    <v-btn
                        :disabled="!selected.length"
                        :loading="loading"
                        color="purple"
                        text
                        @click="cancelFollow"
                    >Unfollow</v-btn>
                    </v-card-actions>
                    </v-card>
                    </template>
                </v-hover>
                </div>
            </template>   

            <template>
              <div>
                    <v-hover v-slot:default="{ hover }">
                    <template>
                    <v-card
                        class="mx-auto"
                        width="500"
                        :elevation="hover ? 12 : 2"
                        :class="{ 'on-hover': hover }"
                    >
                    <v-toolbar
                    flat
                    color="transparent"
                    >
                    <v-app-bar-nav-icon></v-app-bar-nav-icon>
                    <v-toolbar-title>Block List</v-toolbar-title>
                    <v-spacer></v-spacer>
                    <v-btn
                    icon
                    @click="$refs.search.focus()"
                    >
                    <v-icon>mdi-magnify</v-icon>
                </v-btn>
                    </v-toolbar>

                    <v-container class="py-0">
                    <v-row
                        align="center"
                        justify="start"
                    >
                        <v-col
                        v-for="(selection1, i) in selections1"
                        :key="selection1.username"
                        class="shrink"
                        >
                        <v-chip
                            :disabled="loading1"
                            close
                            @click:close="selected1.splice(i, 1)"
                        >
                            <v-avatar left src="https://cdn.vuetifyjs.com/images/john.jpg">                                
                            </v-avatar>
                            {{ selection1.name }}
                        </v-chip>
                        </v-col>

                        <v-col v-if="!allSelected1" cols="12">
                        <v-text-field
                            ref="search1"
                            v-model="search1"
                            full-width
                            hide-details
                            label="Search"
                            single-line
                        ></v-text-field>
                        </v-col>
                    </v-row>
                    </v-container>

                    <v-divider v-if="!allSelected1"></v-divider>

                    <v-list>
                    <template v-for="item in categories1">
                        <v-list-item
                        v-if="!selected1.includes(item)"
                        :key="item.username"
                        :disabled="loading1"
                        @click="selected1.push(item)"
                        >
                        <v-list-item-avatar>
                            <v-img
                            :disabled="loading1"
                            :src="'/home/moyun/file/'+item.headImage"
                            ></v-img>
                        </v-list-item-avatar>
                        <v-list-item-title v-text="item.username"></v-list-item-title>
                        </v-list-item>
                    </template>
                    </v-list>

                    <v-divider></v-divider>

                    <v-card-actions>
                    <v-spacer></v-spacer>
                    <v-btn
                        :disabled="!selected1.length"
                        :loading1="loading1"
                        color="purple"
                        text
                        @click="cancelBlack"
                    >Unblock</v-btn>
                    </v-card-actions>
                    </v-card>
                    </template>
                </v-hover>
                </div>
            </template>

          </v-row>
        </v-container>          
      </v-container>
    </v-main>
  </div>
</template>              


<script>
import bar from "../components/Bar.vue";
export default {
  data: () => ({
    followList: [
      {
        id: 1,
        name: "Jeff",
        personPhoto: "../assets/UpdatesA1",
      },
      {
        id: 2,
        name: "Kitty",
        personPhoto: "../assets/UpdatesA2",
      },
      {
        id: 3,
        name: "Ken",
        personPhoto: "../assets/UpdatesA3",
      },
      {
        id: 1,
        name: "Jeffie",
        personPhoto: "../assets/UpdatesA1",
      },
      {
        id: 2,
        name: "Kitten",
        personPhoto: "../assets/UpdatesA2",
      },
      {
        id: 3,
        name: "Kenny",
        personPhoto: "../assets/UpdatesA3",
      },],
      blockList:[{
        id: 4,
        name: "Micki",
        personPhoto: "../assets/UpdatesB1",
      },
      {
        id: 5,
        name: "Kol",
        personPhoto: "../assets/UpdatesB2",
      },
      {
        id: 6,
        name: "Kathy",
        personPhoto: "../assets/UpdatesB3",
      },
      {
        id: 4,
        name: "Mickin",
        personPhoto: "../assets/UpdatesB1",
      },
      {
        id: 5,
        name: "Kolin",
        personPhoto: "../assets/UpdatesB2",
      },
      {
        id: 6,
        name: "Kath",
        personPhoto: "../assets/UpdatesB3",
      },
    ],
    loading: false,
    loading1: false,
    search: '',
    selected: [],
    selected1: [],
    search1: '',
    blockListProperty:[],
    followListProperty:[],
    }),

    computed: {
      allSelected () {
        return this.selected.length === this.followList.length
      },
      categories () {
        const search = this.search.toLowerCase()

        if (!search) return this.followList

        return this.followList.filter(item => {
          const text = item.name.toLowerCase()

          return text.indexOf(search) > -1
        })
      },
      allSelected1 () {
        return this.selected1.length === this.blockList.length
      },
      categories1 () {
        const search1 = this.search1.toLowerCase()

        if (!search1) return this.blockList

        return this.blockList.filter(item => {
          const text = item.name.toLowerCase()

          return text.indexOf(search1) > -1
        })
      },
      selections1 () {
        const selections1 = []

        for (const selection1 of this.selected1) {
          selections1.push(selection1)
        }

        return selections1
      },
      selections () {
        const selections = []

        for (const selection of this.selected) {
          selections.push(selection)
        }

        return selections
      },
    },

    created(){
      this.showGuys;
    },

    watch: {
      selected () {
        this.search = ''
      },
      selected1 () {
        this.search1 = ''
      },
    },

    methods: {
      next () {
        this.loading = true

        setTimeout(() => {
          this.search = ''
          this.selected = []
          this.loading = false
        }, 2000)
      },
      next1 () {
        this.loading1 = true

        setTimeout(() => {
          this.search1 = ''
          this.selected1 = []
          this.loading1 = false
        }, 2000)
      },
      showGuys(){
        this.$http({
        method: "get",
        url: "/followListAndBalcklist",
      })
        .then((res) => {
          this.blockListProperty=res.data.blacklist;
          this.blockList=res.data.blacklistUser;
          this.followListProperty=res.data.followList;
          this.followList=res.data.follow;
        })
        .catch((err) => {
          console.log(err);
        });
      },

      cancelFollow(){
        var neededID;
        for(var toCancel in this.selected){
            for(var property in this.followListProperty){
              if(property.followedID===this.toCancel.userID){
                neededID=property.followListID;
                this.$http({
                  method: "post",
                  url: "/cancelFollow",
                  data: {
                    followListID:neededID,
                  },
                }).then((res) => {
                  if (res.data.success===1) {
                    }
                }).catch(err=>{
                  console.log(err);
                })
              }
            }
        }
      this.next();
      },

      cancelBlack(){
         var neededID;
        for(var toCancel in this.selected1){
            for(var property in this.blockListProperty){
              if(property.banUserID===this.toCancel.userID){
                neededID=property.blackListID;
                this.$http({
                  method: "post",
                  url: "/cancelBlackList",
                  data: {
                    blackListID:neededID,
                  },
                }).then((res) => {
                  if (res.data.success) {
                    this.$router.go(0);
                    }
                }).catch(err=>{
                  console.log(err);
                })
              }
            }
        }
      this.next1();
    },
    },

  components: {
    bar,
  },
};
</script>

<style scoped>
.block{
    background:url("../assets/widthPic.jpg");
    width:100%;
    height:100%;
    background-size:100% 100%;
}

	.card {
		position: absolute;
		left: 50%;
		top: 50%;
		transform: translate(-50%, -50%);
		height: 500px;
		width: 600px;
		z-index: 1;
		transition: transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
	}

	.card .front {
		position: absolute;
		text-align: center;
		box-shadow: 12px 12px 24px rgba(0, 0, 0, 0.1),
			-12px -12px 24px rgba(255, 255, 255, 1);
		border-radius: 3rem;
		background-color: #efeeee;
		width: 100%;
		height: 100%;
		display: flex;
		flex-direction: column;
		transition: 1s cubic-bezier(0.68, -0.55, 0.265, 1.55);
	}

	.card .front {
		z-index: 1;
	}
</style>
```



- BlogList

```
<template>
    <div class="BlogList">
    <v-app>
        <bar></bar>
        <v-container>
        <v-toolbar flat style="margin-top:30px">
        <v-toolbar-title>个人日志列表</v-toolbar-title>

        <v-spacer></v-spacer>
        
        <template>
          <v-btn
            color="blue darken-3"
            text
            @click.stop="dialog = true"
          >
            发表日志
          </v-btn>

          <v-dialog
            v-model="dialog"
            width="1200px"
            height="3000px"
          >
              <v-card>
                <v-container>
                <v-card-title class="headline" center> Post Blog</v-card-title>
                  <v-snackbar
                  v-model="snackbar"
                  absolute
                  top
                  center
                  color="success"
                  >
                  <span>Blog Post successful!</span>
                  <v-icon dark>mdi-checkbox-marked-circle</v-icon>
                  </v-snackbar>
                    <v-form ref="form" @submit.prevent="submit">
                      <v-container fluid>
                        <v-row>
                          <v-col cols="12" sm="6">
                            <v-text-field
                              v-model="form.postTitle"
                              :rules="rules.name1"
                              color="purple darken-2"
                              label="Blog Title"
                              required
                            ></v-text-field>
                          </v-col>
                          <v-col cols="12">
                            <v-textarea
                              v-model="form.postContent"
                              color="teal"
                            >
                              <template v-slot:label>
                                <div>
                                  Content
                                </div>
                              </template>
                            </v-textarea>
                          </v-col>
                        </v-row>
                      </v-container>
                      <v-card-actions>
                    <v-btn text @click="resetForm">Clear</v-btn>
                    <v-spacer></v-spacer>
                    <v-btn
                      :disabled="!formIsValid"
                      text
                      color="primary"
                      type="submit"
                      @click="officialPostBlog"
                    >Post</v-btn>
                  </v-card-actions>
                </v-form> 
                </v-container>
              </v-card>
          </v-dialog>
         
        </template>


        <v-btn text color="teal" @click="toCollection" rounded> 查看日志收藏 </v-btn>
        </v-toolbar>
        <template>
        <el-table
            :data="tableData"
            stripe
            style="width: 100%"
            :default-sort = "{prop: 'name', order: 'descending'}">
            <el-table-column
            fixed
            sortable
            prop="blogTitle"
            label="日志名称"
            style="width: 35%">
            </el-table-column>
            <el-table-column 
            sortable           
            prop="recentFinishTime"
            label="日期"
            style="width: 30%">
            </el-table-column>
            <el-table-column
            fixed="right"
            label="操作"
            style="width: 35%">
            <template slot-scope="scope">
                <v-btn text color="cyan lighten-1" rounded :to="'/BlogList/ScanBlog/' + scope.row.blogID"> 查看 </v-btn>
                <v-btn text color="blue darken-1" rounded :to="'/BlogList/EditBlog/' + scope.row.blogID"> 编辑 </v-btn>
                <v-btn text color="pink lighten-1" rounded @click="handleDelete(scope.row.blogID, scope.row)"> 删除 </v-btn>
                <router-view/>
            </template>
            </el-table-column>
        </el-table>
        </template> 
        </v-container>
    </v-app>
    </div>
</template>

<script>
import bar from "../components/Bar.vue"

export default({
    data() {

      const defaultForm = Object.freeze({
        postContent: '',
        postTitle: '',
      })

      return {
        form: Object.assign({}, defaultForm),
        rules: {
          name1: [val => (val || '').length > 0 || '文件内容不可为空'],
        },
        conditions: false,
        snackbar: false,
        terms: false,
        defaultForm,
        dialog: false,
        tableData: [{
          blogID:1,
          blogTitle: "在墨韵的第一天",
          recentFinishTime: "2021/5/21",
        },{
          blogID:22,
          blogTitle: "在墨韵的第一天",
          recentFinishTime: "2021/5/21",
        },{
          blogID:3,
          blogTitle: "在墨韵的第一天",
          recentFinishTime: "2021/5/21",
        },{
          blogID:1,
          blogTitle: "在墨韵的第一天",
          recentFinishTime: "2021/5/21",
        },{
          blogID:1,
          blogTitle: "在墨韵的第一天",
          recentFinishTime: "2021/5/21",
        },{
          blogID:1,
          blogTitle: "在墨韵的第一天",
          recentFinishTime: "2021/5/21",
        },{
          blogID:1,
          blogTitle: "在墨韵的第一天",
          recentFinishTime: "2021/5/21",
        },{
          blogID:1,
          blogTitle: "在墨韵的第一天",
          recentFinishTime: "2021/5/21",
        },       
        ]
      }
    },

    components:{
    bar,

    },

    computed: {
      formIsValid () {
        return (
          this.form.postContent &&
          this.form.postTitle
        )
      },
    },

    created(){
      this.show;
    },

      methods: {
      toCollection(){
        this.$router.push({path:"BlogList/PersonalCollection"});
      },
      handleDelete(idNum, row) {
        this.$http({
          method:"post",
          url:"/deleteBlog",
          data:{
            BlogID:idNum,
          }
        }).then((res)=>{
          if(res.data.success){
            this.$router.go(0);
          }
          else{
            alert("删除失败！");
          }
        }).catch(err=>{
          console.log(err)
        });
      },
      resetForm () {
        this.form = Object.assign({}, this.defaultForm)
        this.$refs.form.reset()
      },
      submit () {
        this.snackbar = true
        this.resetForm()
      },
      show(){
        this.$http({
          method:"get",
          url:"/BlogList",
        })
          .then((res)=>{
            this.tableData = res.data.blogList;
          })
          .catch((err)=>{
            console.log(err);
          })
      },
      officialPostBlog(){
        this.$http({
          method:"post",
          url:"/WriteBlog",
          data: {
            BlogTitle: this.form.postTitle,
            Content: this.form.postContent,
          },
        }).then((res)=>{
            if(res.data.success){
              this.submit();
              this.$router.go(0);
            }
            else{
              alert("发表失败！");
            }
            this.dialog=false;
        }).catch(err=>{
          console.log(err);
        });
      },
    },


})
</script>

<style scoped>
.BlogList{
    background:url("../assets/widthPic.jpg");
    width:100%;
    height:100%;
    background-size:100% 100%;};

</style>

```



- EditBlog

```
<template>
    <div class="EditBlog">
        <bar></bar>
        <v-container>
                <div class="card">
                  <div class="front">
                    <v-form ref="form" v-model="valid" lazy-validation>
                      <v-container fluid>
                        <v-col cols="12">
                          <v-textarea color="teal" 
                            v-model="blog[0].title" 
                            :counter="30" 
                            required
                            :rules="titleRules">
                            <template v-slot:label>
                              <div>Title</div>
                            </template>
                          </v-textarea>
                          <v-textarea color="teal" 
                            v-model="blog[0].content" 
                            :counter="300" 
                            required
                            :rules="contentRules">
                            <template v-slot:label>
                              <div>Content</div>
                            </template>
                          </v-textarea>
                        </v-col>
                        <v-row align="center">
                            <v-btn
                            large
                            rounded
                            :disabled="!validCancel"
                            class="buttonleft button" 
                            margin-left="20px"
                            @click="cancelBlog">
                            <p >Cancel Edit</p>
                            </v-btn>
                            <v-spacer></v-spacer>
                            <v-btn
                            v-model="save"
                            large
                            rounded
                            class="buttonright button"
                            @click="saveBlog"
                            margin-right="20px">
                               <p >Save Edit</p>
                            </v-btn>
                            <v-snackbar
                            v-model="snackbar"
                            absolute
                            top
                            center
                            color="success"
                                >
                            <span>Edit Blog successful!</span>
                            <v-icon dark>mdi-checkbox-marked-circle</v-icon>
                            </v-snackbar>
                        </v-row>    
                      </v-container>
                    </v-form>
                  </div>
                </div>
              </v-container>
    </div>
</template>


<script>
import bar from "../components/Bar.vue"
  export default {
    setup(){},
    data: () => ({
      blog:[{
        blogID:'192312',
        blogTitle: 'JohnAblog',
        content: 'DoeBcontent',
      }],
      validSave:true,
      validCancel:true,

      snackbar: false,
      titleRules: [
				v => !!v || '题目不能为空',
				v => (v && v.length <= 20) || '题目为30个字符以内',
			],
      contentRules: [
				v => !!v || '内容不能为空',
			],
    }),
    created(){
      this.show();
    },
    components:{
        bar,
    },
    methods:{
      saveBlog(){
        if(this.$refs.form.validate()){
          this.$http({
            method:"post",
            url:"/EditBlog",
            data:{
              blogID: this.blogid,
              blogTitle: this.title,
              content: this.content,
            },
          }).then((res)=>{
            if(res.data.success){
              this.snackbar=true;
              this.$router.push({path:"/BlogList"});
            }
            else{
              alert("编辑失败！");
            }
          }).catch(err=>{
            console.log(err);
          })
        }
      },
      cancelBlog(){
        this.$router.push("/BlogList");
      },
      show(){
          this.$http({
          method:"get",
          url:"/inspectBlog",
          params:{
            bookID : this.$router.params.id,
          }
        })
          .then((res)=>{
            this.blog=res.data.blog;
          })
          .catch((err)=>{
            console.log(err);
          })
      }

    }
  }
</script>

<style scoped>

.EditBlog {
  background-color: #efeeee;
  width: 100%;
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
}
	.card {
		position: absolute;
		left: 50%;
		top: 50%;
		transform: translate(-50%, -50%);
		height: 500px;
		width: 600px;
		z-index: 1;
		transition: transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
	}

	.card .front {
		position: absolute;
		text-align: center;
		box-shadow: 12px 12px 24px rgba(0, 0, 0, 0.1),
			-12px -12px 24px rgba(255, 255, 255, 1);
		border-radius: 3rem;
		background-color: #efeeee;
		width: 100%;
		height: 100%;
		display: flex;
		flex-direction: column;
		transition: 1s cubic-bezier(0.68, -0.55, 0.265, 1.55);
	}

	.card .front {
		z-index: 1;
	}

	.avatar {
		width: 178px;
		height: 178px;
		display: block;
	}

	.buttonleft {
		color: #596275;
		box-shadow: 9px 9px 18px rgba(0, 0, 0, 0.1),
			-9px -9px 18px rgba(255, 255, 255, 1);
		border-radius: 3rem;
		transition: box-shadow 0.2s ease-out;
		background-color: #efeeee;
		position: relative;
		top: 0px;
		margin-top: 30px;
		width: 130px;
		height: 55px;
		outline: none;
		border: none;
    margin-left: 100px;
	}

  	.buttonright {
		color: #596275;
		box-shadow: 9px 9px 18px rgba(0, 0, 0, 0.1),
			-9px -9px 18px rgba(255, 255, 255, 1);
		border-radius: 3rem;
		transition: box-shadow 0.2s ease-out;
		background-color: #efeeee;
		position: relative;
		top: 0px;
		margin-top: 30px;
		width: 130px;
		height: 55px;
		outline: none;
		border: none;
    margin-right: 90px;
	}

	.button:hover {
		font-size: 19px;
		box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2),
			-1px -1px 2px rgba(255, 255, 255, 0.8);
		border-radius: 3rem;
		transition: box-shadow 0.2s ease-out;
		transition: font-size 0.2s ease-out;
	}
</style>    


```



- MessageListFromFriend

```
<template>
  <div class="friMsg">
    <template>
      <bar></bar>
        <v-row>
            <v-navigation-drawer
              left
              floating
              light
              permanent
              elevate-on-scroll
              expand-on-hover
              app
              color="#efeeee"
              mini-variant-width="80px"
            >
              <v-list
                :default-active="activeIndex"
                dense
                rounded
                align="center"
                justify="center"
                height=50%
              >
              <br>
              <br>
              <br>
              <br>
              <br>
                <v-list-item
                link
                @click="toFriend(item.userID)"
                class="px-2"
                v-for="(item,index) in messageTargetList" v-bind:key=index
                style="margin-left=5px"
                >

                  <v-list-item-avatar>
                    <img
                      :src="'/home/moyun/file/'+item.headImage"
                      :alt="item.username"
                    >
                  </v-list-item-avatar>
                  <v-list-item-content>
                    <v-list-item-title class="font-italic">{{item.username}}</v-list-item-title>
                  </v-list-item-content>
                </v-list-item>
              <router-view />
              </v-list>
            </v-navigation-drawer>

            <v-main
              app
            >
                <v-container fluid class="pa-4 text-center" direction="horizontal">
                  <v-row>
                    <v-card
                          width="1200px"
                          class="mx-auto"
                          style="margin-top:50px"
                      >
                      <v-toolbar dense             
                      text-align="center"
                      justify="center">
                      <v-app-bar-nav-icon></v-app-bar-nav-icon>

                      <v-toolbar-title>{{this.messageBoxTitle}}</v-toolbar-title>

                      <v-spacer></v-spacer>

                      <v-btn icon>
                          <v-icon>mdi-magnify</v-icon>
                      </v-btn>

                      <v-btn icon>
                          <v-icon>mdi-heart</v-icon>
                      </v-btn>

                      <v-btn icon>
                          <v-icon>mdi-dots-vertical</v-icon>
                      </v-btn>
                      </v-toolbar>

                        <v-list three-line>
                          <template v-for="(item, index) in friends">

                              <v-divider
                              :key="index"
                              :inset="inset"
                              ></v-divider>
                              
                              <v-list-item
                              :key="item.title"
                              v-if="getUser[0].userID===item.getID"
                              >
                              <v-list-item-avatar>
                                  <v-img :src="'/home/moyun/file/'+getUser[0].headImage"></v-img>
                              </v-list-item-avatar>

                              <v-list-item-content>
                                  <v-list-item-title v-html="getUser[0].username"></v-list-item-title>
                                  <v-list-item-subtitle v-html="item.message"></v-list-item-subtitle>
                              </v-list-item-content>
                              </v-list-item>

                              <v-list-item
                              :key="item.title"
                               v-else
                              >
                              <v-list-item-avatar>
                                  <v-img :src="'/home/moyun/file/'+sendUser[0].headImage"></v-img>
                              </v-list-item-avatar>

                              <v-list-item-content>
                                  <v-list-item-title v-html="sendUser[0].username"></v-list-item-title>
                                  <v-list-item-subtitle v-html="item.message"></v-list-item-subtitle>
                              </v-list-item-content>
                              </v-list-item>
                          </template>
                          </v-list>
                      <v-card-action>
                      <v-form align="bottom" absolute bottom>
                          <v-container >
                          <v-row>
                              <v-col cols="12">
                              <v-text-field
                                  v-model="message"
                                  :append-icon="marker ? 'mdi-map-marker' : 'mdi-map-marker-off'"
                                  append-outer-icon="mdi-send"
                                  :prepend-icon="icon"
                                  filled
                                  clear-icon="mdi-close-circle"
                                  clearable
                                  label="Message"
                                  type="text"
                                  @click:append="toggleMarker"
                                  @click:append-outer="sendMessage"
                                  @click:prepend="changeIcon"
                                  @click:clear="clearMessage"
                                  position:bottom
                                  relative
                              ></v-text-field>
                              </v-col>

                                </v-row>
                                </v-container>
                            </v-form>
                        </v-card-action>
                      </v-card> 
                    </v-row>
              </v-container>     
            </v-main>
            </v-row>
      </template>
     
  </div>
</template>

<script>
import avatar from "../components/Avatar.vue"
import bar from "../components/Bar.vue"
  export default {
    data: () => ({
        myInterval:null,
        messageBoxTitle:'System',
        password: 'Password',
        divider:true,
        inset:true,
        show: false,
        message: '',
        marker: true,
        iconIndex: 0,
        icons: [
            'mdi-emoticon',
            'mdi-emoticon-cool',
            'mdi-emoticon-dead',
            'mdi-emoticon-excited',
            'mdi-emoticon-happy',
            'mdi-emoticon-neutral',
            'mdi-emoticon-sad',
            'mdi-emoticon-tongue',
        ],
        sendUser :[],
        getUser :[],
        messageTargetList: [],
        friends: [],
        systemMessageList:[],
        userMessageList:[],
    }),

    components:{
       avatar,
       bar,
    },

    created(){
      this.showFriMsg;
      this.initList;
    },

    computed: {
        icon () {
            return this.icons[this.iconIndex]
        },
        },

    methods :{
      
        toggleMarker () {
            this.marker = !this.marker
        },
        clearMessage () {
            this.message = ''
        },
        resetIcon () {
            this.iconIndex = 0
        },
        changeIcon () {
            this.iconIndex === this.icons.length - 1
            ? this.iconIndex = 0
            : this.iconIndex++
        },  
        showFriMsg(){
          this.$http({
            method: "get",
            url: "/MessageHome",
          })
            .then((res) => {
              this.messageTargetList=res.data.messageTargetList;
              this.systemMessageList=res.data.systemMessageList;
              this.friends=this.systemMessageList;
            })
            .catch((err) => {
              console.log(err);
        });
        if(this.$router.params.id!==0){
          this.$http({
            method: "get",
            url: "/ChatMessageList",
            params : {
              getID: this.$route.params.id,
            }
          })
            .then((res) => {
              this.userMessageList=res.data.userMessageList;
              this.sendUser=res.data.sendUser;
              this.getUser=res.data.getUser;
              if(res.data.success){
                this.friends=this.userMessageList;
                this.messageBoxTitle=this.getUser.username;
              }
            })
            .catch((err) => {
              console.log(err);
        });
        }
        },
      
        toFriend(id){
          this.$router.push({path:`/messageListFromFriend/${id}`});
        },
        
        sendMessage () {
           this.$http({
              method: "post",
              url: "/SendMessage",
              data: {
                getID:this.sendUser,
                message:this.message,
              },
            }).then((res)=>{
              if(res.data.success){
                alert("Send Message Success");
                this.$router.go(0);
              }
              else{
                alert("发送信息失败！")
              }
            })
            this.resetIcon()
            this.clearMessage()
        },
       },

        initList () {
          this.myInterval = window.setInterval(() => {
            setTimeout(() => {
              this.showFriMsg();
            }, 1)
          }, 5000);
        },

        destroyed(){
          clearInterval(this.myInterval)
        },


        
  }
</script>

              
<style scoped>

.RList v-snackbar{
    text-align:"right";
    margin:10px;
    display:inline-block;
    padding:3px 10px;
    border:1px solid aliceblue;
    border-radius:15px;
};
.LList v-snackbar{
    text-align:"left";
    display:inline-block;
    padding:3px 10px;
    border:1px solid aliceblue;
    border-radius: 15px;
    padding:5px 10px
};  

.friMsg{
	background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
	background-size: 400% 400%;
	animation: gradient 15s ease infinite;
  };
</style>   


```



- PersonalCollection

```
<template>
    <div class="collection">
    <v-app>
        <bar></bar>
        <v-container>
        <v-toolbar flat style="margin-top:30px">
        <v-toolbar-title align="center" justify="center">收藏日志列表</v-toolbar-title>
        </v-toolbar>
        <template>
            <el-table
                :data="tableData"
                stripe
                style="width: 100%"
                :default-sort = "{prop: 'name', order: 'descending'}">
                <el-table-column
                fixed
                sortable
                prop="blogTitle"
                label="日志名称"
                style="width: 35%">
                </el-table-column>
                <el-table-column 
                sortable           
                prop="writer"
                label="日志作者"
                style="width: 25%">
                </el-table-column>
                <el-table-column 
                sortable           
                prop="recentFinishTime"
                label="创作日期"
                style="width: 15%">
                </el-table-column>
                <el-table-column
                fixed="right"
                label="操作"
                style="width: 25%">
                <template slot-scope="scope">
                    <v-btn text color="blue darken-1" rounded :to="'/BlogList/ScanBlog/' + scope.row.blogID"> 查看日志</v-btn>
                    <v-btn text color="pink lighten-1" rounded @click="handleDelete(scope.$index, scope.row.blogID)"> 取消收藏 </v-btn>
                </template>
                </el-table-column>
            </el-table>
            <v-snackbar
              v-model="snackbar"
              :timeout="timeout"
            >
              {{ snacktext }}

              <template v-slot:action="{ attrs }">
                <v-btn
                  color="green"
                  text
                  v-bind="attrs"
                  @click="snackbar = false"
                >
                  Close
                </v-btn>
              </template>
            </v-snackbar>
        </template>
        </v-container>
        </v-app>
    </div>
</template>

<script>
import bar from "../components/Bar.vue"

export default({
    methods: {
      handleEdit(index, row) {
        console.log(index, row);
      },
      handleDelete(index, row) {
        console.log(index, row);
      }
    },
    data() {
      return {
      snackbar: false,
      snacktext: '取消收藏成功',
      timeout: 1000,
        tableData: [{
          blogID:123,
          blogTitle: "在墨韵收藏的第一篇日志",
          writer:"AStudent",
          recentFinishTime: "2021/5/21",
        },{
          blogID:123,
          blogTitle: "在墨韵收藏的第一篇日志",
          writer:"AStudent",
          recentFinishTime: "2021/5/21",
        },{
          blogID:123,
          blogTitle: "在墨韵收藏的第一篇日志",
          writer:"AStudent",
          recentFinishTime: "2021/5/21",
        },{
          blogID:123,
          blogTitle: "在墨韵收藏的第一篇日志",
          writer:"AStudent",
          recentFinishTime: "2021/5/21",
        },{
          blogID:123,
          blogTitle: "在墨韵收藏的第一篇日志",
          writer:"AStudent",
          recentFinishTime: "2021/5/21",
        },{
          blogID:123,
          blogTitle: "在墨韵收藏的第一篇日志",
          writer:"AStudent",
          recentFinishTime: "2021/5/21",
        },       
        ],
        blogAuthor:[],
      }
    },
    components:{
    bar,
    },
    created(){
      this.show();
    },
    methods:{
    show() {
      this.$http({
        method: "get",
        url: "/PersonalCollection",
      })
        .then((res) => {
          this.tableData=res.data.blogCollectionBlog;
          this.blogAuthor=res.data.blogAuthor
          for(var a in tableData){
            for (var b in blogAuthor){
              if(a.authorID===b.userID){
                a.append(writer,b.username);
              }
            }
          }
        })
        .catch((err) => {
          console.log(err);
        });
      },
    handleDelete(index,id){
      //this.snackbar=true;
        this.$http({
        method: "post",
        url: "/cancelCollectBlog",
        data:{
          blogID: id,
        }
      }).then((res) => {
          this.snackbar=true;
          this.$router.push({path:"/BlogList/PersonalCollection"})
        })
        .catch((err) => {
          console.log(err);
        });
      },
    }
})
</script>

<style scope>
.collection{
    background:url("../assets/widthPic.jpg");
    width:100%;
    height:100%;
    background-size:100% 100%;};
</style>
```



- ScanBlog

```
<template>
    <div class="ScanBlog">
        <v-app>
        <bar></bar>
        <v-container>
            <template>
            <v-card
                class="mx-auto my-12"
                width="1400"
                min-height="1000"
                center
                elevation="24"
            >  
            <v-card-title class="text-h2" 
            text-align="center"
            :headStyle="{ 'text-align': 'center' }" 
            jusify="center" 
            >
            <span
            text-align="center"
            :headStyle="{ 'text-align': 'center' }" 
            >{{this.blog.title}}</span>
            </v-card-title> 
            
            <v-row justify="center" style="margin-top:20px">
            <v-snackbar
              v-model="snackbar1"
              absolute
              top
              center
              color="success"
              timeout="1000"
              >
              <span>ReTweet successful!</span>
              <v-icon dark>mdi-checkbox-marked-circle</v-icon>
              </v-snackbar>    
                <v-btn
                    fab
                    color="purple lighten-2"
                    dark
                    @click.stop="dialog = true"
                    class="button lxtBtn"
                    style="margin-left:40px"
                    >
                    <v-icon>mdi-share-variant</v-icon>
                    </v-btn>

                    <v-dialog
                    v-model="dialog"
                    max-width="290"
                    >
                    <v-card>
                        <v-card-title class="headline">是否确定转载?</v-card-title>
                        <v-card-text>
                        该日志将被转载到您的动态
                        </v-card-text>

                        <v-card-actions>
                        <v-spacer></v-spacer>

                        <v-btn
                            color="green darken-1"
                            text
                            @click="cancelpost"
                        >
                            No
                        </v-btn>

                        <v-btn
                            color="green darken-1"
                            text
                            @click="post"
                        >
                            Yes
                        </v-btn>
                        </v-card-actions>
                    </v-card>
                    </v-dialog>

                <v-btn
                    fab
                    color="blue"
                    @click.stop="dialog1 = true"
                    dark
                    class="button"
                >
                <v-icon>mdi-message-text</v-icon>
                </v-btn>

                <v-dialog
                    v-model="dialog1"
                    width="1200px"
                    height="3000px"
                >
                    <v-card>
                        <v-container>
                        <v-card-title class="headline" center> Post Comment</v-card-title>
                        <v-snackbar
                        v-model="snackbar2"
                        absolute
                        top
                        center
                        color="success"
                        vertical
                        timeout="1000"
                        >
                        <span>Comment Post successful!</span>
                        <v-icon dark>mdi-checkbox-marked-circle</v-icon>
                        </v-snackbar>
                            <v-form ref="form" @submit.prevent="submit">
                            <v-container fluid>
                                <v-row>
                                <v-col cols="12">
                                    <v-textarea
                                    v-model="form.content"
                                    color="teal"
                                    >
                                    <template v-slot:label>
                                        <div>
                                        Content
                                        </div>
                                    </template>
                                    </v-textarea>
                                </v-col>
                                </v-row>
                            </v-container>
                            <v-card-actions>
                            <v-btn text @click="resetForm">Clear</v-btn>
                            <v-spacer></v-spacer>
                            <v-btn
                            :disabled="!formIsValid"
                            text
                            color="primary"
                            type="submit"
                            @click="postComment"
                            >Post</v-btn>
                        </v-card-actions>
                        </v-form> 
                        </v-container>
                    </v-card>
                </v-dialog>  
                <v-btn
                        fab
                        dark
                        v-if="isCollect===1"
                        color="indigo"
                        style="space around"
                        v-on:click="collect"
                        class="button"
                    >
                        <v-icon>mdi-star</v-icon>
                    </v-btn>
                  <v-btn
                        fab
                        dark
                        v-else
                        color="grey"
                        style="space around"
                        v-on:click="collect"
                        class="button"
                    >
                        <v-icon>mdi-star</v-icon>
                    </v-btn>  

                    <v-btn
                        color="pink"
                        v-if="this.like"
                        fab
                        dark
                        v-on:click="likeBlog"
                        class="button"
                    >
                    <v-icon>mdi-heart</v-icon>                    
                    </v-btn> 
                    <v-btn
                        color="grey"
                        v-else
                        fab
                        dark
                        v-on:click="likeBlog"
                        class="button"
                    >
                    <v-icon>mdi-heart</v-icon>                    
                    </v-btn>
            </v-row>
                <br>
                <br>
                <br>
                <v-card-text right>
                <v-row
                align="center"
                class="mx-0">
                <div class="my-4 subtitle-1 ">{{this.blog.author}}</div> 
                <v-spacer></v-spacer>   
                <div class="my-4 subtitle-1 ">{{this.blog.recentFinishTime}}</div>
                <v-spacer></v-spacer>  
                <div v-if="this.blog.isReprint===1">转载</div>
                <div v-else>原创</div>
                </v-row>
                </v-card-text>
                <v-divider class="mx-4"></v-divider>
                <v-card-title>Content</v-card-title>
                <v-card-text>
                    <div>{{this.blog.content}}</div>
                </v-card-text>                                   
                </v-card>
            </template>           
        </v-container>
        
        </v-app>
        </div>
</template>

<script>
import bar from "../components/Bar.vue"
export default({
    data() {
    
    const defaultForm = Object.freeze({
        first: '',
        content: '',
      })
    
    return{
        form: Object.assign({}, defaultForm),
        rules: {
          name1: [val => (val || '').length > 0 || 'This field is required'],
        },
        like: false,
        isCollect:false,
        alert1: false,
        conditions: false,
        snackbar1: false,
        snackbar2: false,
        terms: false,
        defaultForm,
        dialog1: false,
        dialog: false,
        trans: false,
        bio:'',
        direction: 'bottom',
        fab: false,
        fling: false,
        hover: false,
        tabs: null,
        transition: 'slide-y-reverse-transition',
        //backend content
        blog:[{
        blogId:'asdad',
        title:"Blog4Test",
        date:"2020-12-25",
        author:"Jackson",
        isReprint:false,
        content:"This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.vThis is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.vThis is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.vThis is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.vThis is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.vThis is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.vThis is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.vThis is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.vThis is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.vThis is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.vThis is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.vThis is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.vThis is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.vThis is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.vThis is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.vThis is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.vThis is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.vThis is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.This is a test blog 4 testing vue pages.",

        }]
      }
    },
    components:{
        bar,
    },
    computed: {
      formIsValid () {
        return (
          this.form.content
        )
      },
    },

    created(){
      this.show;
    },

    methods: {
      show(){
        this.$http({
        method: "get",
        url: "/inspectBlog",
        params:{
          blogID: this.$router.param.id,
        }
          }).then((res) => {
            if (res.data.success) {
              this.blog=res.data.blog;
              this.isCollect=res.data.isCollect;
            }
          }).catch(err=>{
            console.log(err)
          });
      },
      resetForm () {
        this.form = Object.assign({}, this.defaultForm)
        this.$refs.form.reset()
      },
      submit () {
        this.snackbar2 = true
        this.resetForm()
      },
      postComment(){
        this.$http({
        method: "post",
        url: "/WriteBlogComment",
        data: {
          blogID: this.blog.blogId,
          comment: this.form.content,

        },
          }).then((res) => {
            if (res.data.success) {
              this.dialog1=false;
              this.snackbar2=true;
              this.submit();
            }
            else{
              alert("评论失败！")
            }
          }).catch(err=>{
            console.log(err)
          });

      },
      post(){
        //this.alert1=true
        this.$http({
        method: "post",
        url: "/ReprintBlog",
        data: {
          blog: this.blog.blogId,

        },
          }).then((res) => {
            if (res.data.success) {
              this.dialog=false;
              this.snackbar1=true;
            }
            else{
              alert("转载失败！")
            }
          }).catch(err=>{
            console.log(err)
          });

      },
      cancelpost(){
        this.dialog=false
      },
      collect(){
        if(this.isCollect===1){
          this.$http({
          method: "post",
          url: "/CollectBlog",
          data: {
            blogID: this.blog.blogId,

          },
            }).then((res) => {
              if (res.data.success) {
                this.blog.ableCollect=!this.blog.ableCollect;
              }
              else{
                alert("收藏失败！")
              }
            }).catch(err=>{
              console.log(err)
            });
        }
        else{
          this.$http({
          method: "post",
          url: "/CancelCollectBlog",
          data: {
            blogID: this.blog.blogId,

          },
            }).then((res) => {
              if (res.data.success) {
                this.blog.ableCollect=!this.blog.ableCollect;
              }
              else{
                alert("取消收藏失败！")
              }
            }).catch(err=>{
              console.log(err)
            });
        }
      },

      likeBlog(){
        this.like=!this.like;
       /*if(this.blog.like){
          this.$http({
          method: "post",
          url: "/LikeBlog",
          data: {
            blogID: this.blog.blogId,

          },
            }).then((res) => {
              if (res.data.success) {
                this.blog.like=!this.blog.like;
              }
              else{
                alert("点赞失败！")
              }
            }).catch(err=>{
              console.log(err)
            });
       }
       else {
          this.$http({
          method: "post",
          url: "/CancelLikeBlog",
          data: {
            blogID: this.blog.blogId,

          },
            }).then((res) => {
              if (res.data.success) {
                this.blog.like=!this.blog.like;
              }
              else{
                alert("取消点赞失败！")
              }
            }).catch(err=>{
              console.log(err)
            });
       }*/
      },
    },
})
</script>

<style scope>
.ScanBlog{
    background:url("../assets/widthPic.jpg");
    width:100%;
    height:100%;
    background-size:100% 100%;};

  .v-speed-dial {
    position: absolute;
  }
  .v-btn--floating {
    position: relative;
  }  
  .button{
    margin-right: 25px;

  }
  .lxtBtn{
    box-shadow:  18px 18px 36px rgba(0, 0, 0, 0.1),
             -18px -18px 36px #ffffff;
    transition: box-shadow 0.2s ease-out;         
		background-color: #efeeee;
		position: relative;  
    outline: none;
		border: none;   
  }
</style>
```



- Updates

```
<template>
  <div class="updates">
    <bar></bar>
    <v-main >
      <v-container fluid >
                    <template class="bkColor" v-if="!this.Bookflag">
                    <v-item v-for="(item, index) in blogDT" v-bind:key="index" >
                      <div>
                        <v-hover v-slot:default="{ hover }">
                          <v-card
                            class="mx-auto"
                            color="grey lighten-4"
                            dark
                            max-width="800"
                            :elevation="hover ? 16 : 4"
                            :class="{ 'on-hover': hover }"
                            :to="'/BlogList/ScanBlog/'+item.blogID"
                            
                          >
                            <v-card-title
                            class="title font-weight-bold black--text">
                              <v-icon
                                large
                                left
                                color="grey darken-2"
                              >
                                mdi-twitter
                              </v-icon>
                              {{item.blogTitle}}
                            </v-card-title>

                            <v-card-text class="headline font-italic black--text">
                             <div class="textDisplay">{{item.content}}</div> 
                            </v-card-text>

                            <v-card-actions align="right">
                              <v-list-item class="grow">
                                <v-list-item-title class="title font-weight-bold black--text" >{{item.author}}</v-list-item-title>
                                <v-list-item-avatar color="grey darken-3">
                                  <v-img
                                    class="elevation-6"
                                    :src="'/home/moyun/file/'+item.authorImage"
                                  ></v-img>
                                </v-list-item-avatar>

                              </v-list-item>
                            </v-card-actions>
                          </v-card>
                        </v-hover>
                      </div>
                    </v-item>
                  </template>    
                    <template v-else>
                    <v-item v-for="(item, index) in bookReviewDT" v-bind:key="index">
                      <div>
                        <v-hover v-slot:default="{ hover }">
                          <v-card
                            class="mx-auto"
                            color="grey lighten-4"
                            dark
                            max-width="800"
                            :elevation="hover ? 24 : 2"
                            :class="{ 'on-hover': hover }"
                            :to="'/Book/BookReview/'+item.bookReviewID"
                          >
                            <v-card-title class="title font-weight-bold black--text">
                              <v-icon
                                large
                                left
                                color="grey darken-2"
                              >
                                mdi-twitter
                              </v-icon>
                              {{item.title}}
                            </v-card-title>

                            <v-card-text class="headline font-italic black--text">
                             <div class="textDisplay">{{item.content}}</div> 
                            </v-card-text>

                            <v-card-actions align="right">
                              <v-list-item class="grow">
                                <v-list-item-title class="title font-weight-bold black--text" >{{item.author}}</v-list-item-title>    
                                <v-list-item-avatar color="grey darken-3">                 
                                     
                                  <v-img
                                    class="elevation-6"
                                    :src="'/home/moyun/file/'+item.authorImage"
                                  ></v-img>
                                </v-list-item-avatar>                       
                                </v-list-item>
                            </v-card-actions>
                          </v-card>
                        </v-hover>
                      </div>
                    </v-item>
                  </template>    

              <v-speed-dial
                fixed
                bottom
                right
                v-model="fab"
                direction="top"
                transition="slide-y-reverse-transition"
              >
                <template v-slot:activator>
                  <v-btn
                    v-model="fab"
                    color="blue darken-2"
                    dark
                    fab
                  >
                    <v-icon v-if="fab">
                      mdi-close
                    </v-icon>
                    <v-icon v-else>
                      mdi-plus
                    </v-icon>
                  </v-btn>
                </template>

                <v-tooltip left>
                <template v-slot:activator="{ on, attrs }">
                  <v-btn
                  fab
                  dark
                  small
                  color="green"
                  v-bind="attrs"
                  v-on="on"
                  v-on:click="changeToBlog"
                >
                  <v-icon>mdi-book-account-outline</v-icon>
                </v-btn>
                </template>
                <span>Check Out Blog Updates!</span>
              </v-tooltip>

                <v-tooltip left>
                <template v-slot:activator="{ on, attrs }">
                  <v-btn
                  fab
                  dark
                  small
                  color="indigo"
                  v-bind="attrs"
                  v-on="on"
                  v-on:click="changeToBook"
                >
                  <v-icon >mdi-comment-bookmark</v-icon>
                </v-btn>
                </template>
                <span>Check Out Book Review Updates!</span>
              </v-tooltip>
                <v-tooltip left>
                <template v-slot:activator="{ on, attrs }">
                  <v-btn
                  fab
                  dark
                  small
                  color="red"
                  v-bind="attrs"
                  v-on="on"
                  v-on:click="toBlock"
                >
                  <v-icon >mdi-account-circle</v-icon>
                </v-btn>
                </template>
                <span>Manage Blocks And Follows!</span>
              </v-tooltip>
              </v-speed-dial>
        </v-container>          
    </v-main>
  </div>
</template>

<script>
//0是bookreview 1是blog
import bar from "../components/Bar.vue";
export default {
  data: () => ({
    Bookflag:true,
    fab:false,
    blogDT: [
      {
        blogID: 1,
        blogTitle: "Book1",
        content: `This is a book about Jesus and how mankind react to atheism,deeply revealling the truth of religious...Now this is testing whether my css which doesnt seem to work..`,
        authorID: "Jeff",
        personPhoto: "../assets/UpdatesA1",
        recentFinishTime: "2021-04-28",
        author:"a",
        authorImage:"https://cdn.vuetifyjs.com/images/john.jpg"
      },
      {
        blogID: 1,
        blogTitle: "Book1",
        content: `This is a book about Jesus and how mankind react to atheism,deeply revealling the truth of religious...`,
        authorID: "Jeff",
        personPhoto: "../assets/UpdatesA1",
        recentFinishTime: "2021-04-28",
        author:"a",
        authorImage:"https://cdn.vuetifyjs.com/images/john.jpg"
      },
      {
        blogID: 1,
        blogTitle: "Book1",
        content: `This is a book about Jesus and how mankind react to atheism,deeply revealling the truth of religious...`,
        authorID: "Jeff",
        personPhoto: "../assets/UpdatesA1",
        recentFinishTime: "2021-04-28",
        author:"a",
        authorImage:"https://cdn.vuetifyjs.com/images/john.jpg"
      },
      {
        blogID: 1,
        blogTitle: "Book1",
        content: `This is a book about Jesus and how mankind react to atheism,deeply revealling the truth of religious...`,
        authorID: "Jeff",
        personPhoto: "../assets/UpdatesA1",
        recentFinishTime: "2021-04-28",
        author:"a",
        authorImage:"https://cdn.vuetifyjs.com/images/john.jpg"
      },
    ],
      bookReviewDT : [
      {
        bookReviewID: 1,
        title: "BR",
        reviewTime:'2020-01-01',
        content: `This is a book about Jesus and how mankind react to atheism,deeply revealling the truth of religious...`,
        userID:'1',
        author:'aaa',
        authorImage:"https://cdn.vuetifyjs.com/images/john.jpg"
      },
      {
        bookReviewID: 1,
        title: "BR",
        reviewTime:'2020-01-01',
        content: `This is a book about Jesus and how mankind react to atheism,deeply revealling the truth of religious...`,
        userID:'1',
        author:'aaa',
        authorImage:"https://cdn.vuetifyjs.com/images/john.jpg"
      },
      {
        bookReviewID: 1,
        title: "BoR",
        reviewTime:'2020-01-01',
        content: `This is a book about Jesus and how mankind react to atheism,deeply revealling the truth of religious...`,
        userID:'1',
        author:'aaa',
        authorImage:"https://cdn.vuetifyjs.com/images/john.jpg"
      },
      {
        bookReviewID: 1,
        title: "BoR",
        reviewTime:'2020-01-01',
        content: `This is a book about Jesus and how mankind react to atheism,deeply revealling the truth of religious...`,
        userID:'1',
        author:'aaa',
        authorImage:"https://cdn.vuetifyjs.com/images/john.jpg"
      },
    ],

    blogDTUsers:[],
    bookReviewDTUsers:[],
  }),
  components: {
    bar,
  },

  created(){
    this.showUpdates;
  },
  methods:{
    changeToBook(){
      this.Bookflag=true;
    },
    changeToBlog(){
      this.Bookflag=false;
    },
    toBlock(){
        this.$router.push({path:"/updates/block"});
    },
    like(news){
      news.likes++;
      news.myLike=true;
    },
    unlike(news){
      news.likes--;
      news.myLike=false;
    },
    showUpdates(){
        this.$http({
        method: "get",
        url: "/blogDT",
      })
        .then((res) => {
          this.blogDT=res.data.blogDT;
          this.blogDTUsers=res.data.blogDTUser;
        })
        .catch((err) => {
          console.log(err);
        });
        this.$http({
        method: "get",
        url: "/bookReviewDT",
      })
        .then((res) => {
          this.bookReviewDT=res.data.bookReviewDT;
          this.bookReviewDTUsers=res.data.bookReviewDTUser;
        })
        .catch((err) => {
          console.log(err);
        });

        for(var blog in this.blogDT){
          for(var user in this.blogDTUsers){
            if (blog.authorID===user.userID){
              blog.append(author,user.username);
              blog.append(authorImage,user.headImage);
            }
          }
        }

        for(var rw in this.bookReviewDT){
          for(var user in this.bookReviewDT){
            if (rw.authorID===user.userID){
              rw.append(author,user.username);
              rw.append(authorImage,user.headImage);
            }
          }
        }
      },
  }
};
</script>

<style scoped>
.updates {
	background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
	background-size: 400% 400%;
	animation: gradient 15s ease infinite;
}

@keyframes gradient {
	0% {
		background-position: 0% 50%;
	}
	50% {
		background-position: 100% 50%;
	}
	100% {
		background-position: 0% 50%;
	}
}

.box {
  display: flex;
  flex-direction: column;
}
.v-card {
  margin-bottom: 30px;
}
.middle {
    height: 445px;
    width: 300px;
    background: no-repeat center top;
    background-size: contain;
}    

.bkColor {
  background-color:transparent;
}

.textDisplay{
    overflow: hidden;
    -webkit-line-clamp: 2;
    text-overflow: ellipsis;
    display: -webkit-box;
    -webkit-box-orient: vertical;
}
</style>

```

